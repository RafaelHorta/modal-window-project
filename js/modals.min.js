export default function(){const e=document.querySelector("body");let l={ok:null,cancel:null,status:!1};function t(e){e.querySelector(".modal").style.transform="scale(0,0)",setTimeout((()=>{e.style.visibility="hidden"}),500)}function n(n,a,c,d,o,s){let i=`\n            <div class="modal-container" id="modal-${n}">\n                <div class="modal ${c=1==c?"modal-dark":""}">\n                    <div class="modal-header">\n                        <span>${a=null!=a?a:""}</span>\n                        <span class="modal-close">\n                            <i class="fas fa-times"></i>\n                        </span>\n                    </div>\n                    <div class="modal-body">\n                        ${d}\n                    </div>\n                </div>\n            </div>\n        `;e.insertAdjacentHTML("beforeend",i);let u=document.getElementById("modal-"+n);if(void 0!==o||void 0!==s){const e=document.createElement("div");if(e.style.paddingTop="20px",void 0!==o){const t=document.createElement("button");t.setAttribute("type","button"),t.innerText=null!=o.text&&""!=o.text?o.text:"OK",t.classList.add("modal-button-ok"),t.addEventListener("click",(()=>{null!=o.callback&&l.status?l.ok():null!=o.callback&&0==l.status&&o.callback()})),e.appendChild(t)}if(void 0!==s){const n=document.createElement("button");n.setAttribute("type","button"),n.innerText=null!=s.text&&""!=s.text?s.text:"Cancel",n.classList.add("modal-button-cancel"),n.addEventListener("click",(()=>{null!=s.callback&&l.status?l.cancel():null!=s.callback&&0==l.status&&s.callback(),t(u)})),e.appendChild(n)}u.querySelector(".modal-body").appendChild(e)}u.querySelector(".modal-close").addEventListener("click",(()=>{t(u)}))}return{openModal(e,{title:t,dark:a,content:c,ok:d,cancel:o,callback:s}){null==document.getElementById("modal-"+e)&&n(e,t,a,c,d,o);const i=document.getElementById("modal-"+e);l.status=!0,null!=d&&null!=d.callback&&(l.ok=d.callback),null!=o&&null!=o.callback&&(l.cancel=o.callback),null!=s&&s(),i.style.visibility="visible",setTimeout((()=>{i.querySelector(".modal").style.transform="scale(1,1)"}),50)},setModal(e,t,{title:a,dark:c,content:d,ok:o,cancel:s,callback:i}){null==document.getElementById("modal-"+t)&&n(t,a,c,d,o,s);const u=document.getElementById("modal-"+t);document.querySelector('[modal="'+e+'"]').addEventListener("click",(e=>{e.preventDefault(),null!=i&&i(),u.style.visibility="visible",l.status=!1,setTimeout((()=>{u.querySelector(".modal").style.transform="scale(1,1)"}),50)}))},closeModal(e){t(document.getElementById("modal-"+e))}}}