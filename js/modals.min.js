export default function(){const $body=document.querySelector("body");let handler={ok:null,cancel:null,status:!1};function closingModal($modal){$modal.querySelector(".modal").style.transform="scale(0,0)",setTimeout(()=>{$modal.style.visibility="hidden"},500)}function createModal(modalName,title,dark,content,ok,cancel){let $templateModal=`\n            <div class="modal-container" id="modal-${modalName}">\n                <div class="modal ${dark=1==dark?"modal-dark":""}">\n                    <div class="modal-header">\n                        <span>${title=null!=title?title:""}</span>\n                        <span class="modal-close">\n                            <i class="fas fa-times"></i>\n                        </span>\n                    </div>\n                    <div class="modal-body">\n                        ${content}\n                    </div>\n                </div>\n            </div>\n        `;$body.insertAdjacentHTML("beforeend",$templateModal);let $getModal=document.getElementById("modal-"+modalName);if(void 0!==ok||void 0!==cancel){const $containerButtons=document.createElement("div");if($containerButtons.style.paddingTop="20px",void 0!==ok){const $btnOk=document.createElement("button");$btnOk.setAttribute("type","button"),$btnOk.innerText=null!=ok.text&&""!=ok.text?ok.text:"OK",$btnOk.classList.add("modal-button-ok"),$btnOk.addEventListener("click",()=>{null!=ok.callback&&handler.status?handler.ok():null!=ok.callback&&0==handler.status&&ok.callback()}),$containerButtons.appendChild($btnOk)}if(void 0!==cancel){const $btnCancel=document.createElement("button");$btnCancel.setAttribute("type","button"),$btnCancel.innerText=null!=cancel.text&&""!=cancel.text?cancel.text:"Cancel",$btnCancel.classList.add("modal-button-cancel"),$btnCancel.addEventListener("click",()=>{null!=cancel.callback&&handler.status?handler.cancel():null!=cancel.callback&&0==handler.status&&cancel.callback(),closingModal($getModal)}),$containerButtons.appendChild($btnCancel)}$getModal.querySelector(".modal-body").appendChild($containerButtons)}$getModal.querySelector(".modal-close").addEventListener("click",()=>{closingModal($getModal)})}return{openModal(modalName,{title:title,dark:dark,content:content,ok:ok,cancel:cancel}){null==document.getElementById("modal-"+modalName)&&createModal(modalName,title,dark,content,ok,cancel);const $idModal=document.getElementById("modal-"+modalName);handler.status=!0,null!=ok&&null!=ok.callback&&(handler.ok=ok.callback),null!=cancel&&null!=cancel.callback&&(handler.cancel=cancel.callback),$idModal.style.visibility="visible",setTimeout(()=>{$idModal.querySelector(".modal").style.transform="scale(1,1)"},50)},setModal(btnElement,modalName,{title:title,dark:dark,content:content,ok:ok,cancel:cancel}){null==document.getElementById("modal-"+modalName)&&createModal(modalName,title,dark,content,ok,cancel);const $idModal=document.getElementById("modal-"+modalName);document.querySelector('[modal="'+btnElement+'"]').addEventListener("click",event=>{event.preventDefault(),$idModal.style.visibility="visible",handler.status=!1,setTimeout(()=>{$idModal.querySelector(".modal").style.transform="scale(1,1)"},50)})},closeModal(idModal){closingModal(document.getElementById("modal-"+idModal))}}}