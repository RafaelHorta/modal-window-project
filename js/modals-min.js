export default function(){const n=document.querySelector("body");function t(n){n.querySelector(".modal").style.transform="scale(0,0)",setTimeout((()=>{n.style.visibility="hidden",n.remove()}),500)}return{openModal(e,{title:o,dark:l,form:c,content:d,onOk:u,onCancel:i},a=null){null==document.getElementById("modal-"+e)&&function(t,e,o,l,c,d){e=null!=e?e:"",o=1==o?"modal-dark":"";let u="",i="";void 0!==c&&(u=`\n                <button type="button" class="modal-button-ok" id="ok-${t}">\n                    ${c.text?c.text:"Acept"}\n                </button>`),void 0!==d&&(i=`\n                <button type="button" class="modal-button-cancel" id="cancel-${t}">\n                    ${d.text?d.text:"Cancel"}\n                </button>`),"#"===l[0]&&(l=document.querySelector(l).innerHTML);const a=`\n            <div class="modal-container" id="modal-${t}">\n                <div class="modal ${o}">\n                    <div class="modal-header">\n                        <span>${e}</span>\n                        <button type="button" class="close-modal" id="btn-close">X</button>\n                    </div>\n                    <form class="modal-body" id="frm-${t}" autocomplete="off">\n                        ${l}\n                        <div class="modal-btn-container">\n                            ${u}\n                            ${i}\n                        </div>\n                    </form>\n                </div>\n            </div>\n        `;n.insertAdjacentHTML("beforeend",a)}(e,o,l,d,u,i),null!=a&&a();const m=document.getElementById("modal-"+e),s=null!=c&&c?document.getElementById("frm-"+e):"";document.getElementById("btn-close").onclick=function(){t(m)},null!=u&&function(n,t,e){const o=document.getElementById("ok-"+n);null!=t.text&&(o.innerText=t.text),""!=e?(o.type="submit",e.onsubmit=function(n){n.preventDefault(),null!=t.do&&t.do(n)}):(o.type="button",o.onclick=function(n){null!=t.do&&t.do(n)})}(e,u,s),null!=i&&function(n,e,o){const l=document.getElementById("cancel-"+e);null!=o.text&&(l.innerText=o.text),l.onclick=function(e){null!=o.do&&o.do(e),t(n)}}(m,e,i),function(n){n.style.visibility="visible",setTimeout((()=>{n.querySelector(".modal").style.transform="scale(1,1)"}),100)}(m)},clickModal(n,t,{title:e,dark:o,form:l,content:c,onOk:d,onCancel:u},i=null){document.querySelector('[modal="'+n+'"]').addEventListener("click",(n=>{n.preventDefault(),this.openModal(t,{title:e,dark:o,content:c,form:l,onOk:d,onCancel:u},i)}))},closeModal(n,e=null){null!=e&&e(),t(document.getElementById("modal-"+n))}}}